<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>留言</title>
    <link rel="stylesheet" href="/css/message.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/iconfont/iconfont one/iconfont one/iconfont.css">
    <link rel="stylesheet" href="/iconfont/iconfont two/font_4731952_qpjvyh4ok1/iconfont.css">
    <link rel="stylesheet" href="/iconfont/iconfont two/font_4737118_hfl3cy0k7kc/iconfont.css">
    <link rel="stylesheet" href="/iconfont/iconfont two/font_4737118_3cdgbckabx9/iconfont.css">
    <style>
        body {
            font-size: 1.6rem;
            width: 100%;
            max-width: 2500px;
            margin: 0 auto;
            font-family: Arial, Helvetica, sans-serif;
        }

        h2 {
            font-size: 3rem;
        }
    </style>
</head>

<body>
    <div class="home3" id="top">
        <video id="video1" width="100%" controls autoplay muted loop>
            <source src="/media/home3.mp4" type="">
        </video>
        <div class="text">
            <h1 class="fade-in"><a href="https://www.airpano.com/">自然风光</a></h1>
            <p class="fade-in">江流天地外，山色有无中</p>
        </div>
    </div>
    <nav class="nav"></nav>
    <!-- 1.留言 -->
    <div class="wrap">
        <div class="top-banner ">
            <span class="iconfont icon-weibiaoti2"></span>
            <h2>留言</h2>
            <span class="iconfont icon-weibiaoti2"></span>
        </div>
        <div id="message" class="message">
            <div class="nav-cont msg grid2">
                <div class="msg-box">

                    <div class="msg-item">
                        <div class="msg-title">
                            <img src="/img/avatar0.png">梦游代码国
                        </div>
                        <div class="msg-address">北京</div>
                        <div class="msg-cont">"最近看到很多关于塑料污染的报道，
                            真的很震惊。我们每个人都有责任减少一次性塑料的使用，支持环保！"</div>
                    </div>
                    <p>------------------------------------------------------------------------</p>

                    <div class="msg-item">
                        <div class="msg-title">
                            <img src="/img/avatar6.png">咖啡不加糖
                        </div>
                        <div class="msg-address">上海</div>
                        <div class="msg-cont">"我最近开始使用可重复使用的购物袋，
                            感觉对减少塑料袋的使用很有帮助。大家也可以尝试看看！"</div>
                    </div>
                    <p>------------------------------------------------------------------------</p>
                    <div class="msg-item">
                        <div class="msg-title">
                            <img src="/img/avatar3.png">东京不太热
                        </div>
                        <div class="msg-address">北京</div>
                        <div class="msg-cont">"看到网站上的环保小贴士，我决定开始垃圾分类了。
                            虽然开始有点麻烦，但为了我们的地球，值得！"</div>
                    </div>
                    <p>------------------------------------------------------------------------</p>
                    <div class="msg-item">
                        <div class="msg-title">
                            <img src="/img/avatar4.png">卡皮巴拉在减肥
                        </div>
                        <div class="msg-address">河南</div>
                        <div class="msg-cont">"最近尝试了素食，发现不仅对健康有好处，还能减少碳足迹。
                            推荐大家也试试看！"</div>
                    </div>
                    <p>------------------------------------------------------------------------</p>
                    <div class="msg-item">
                        <div class="msg-title">
                            <img src="/img/avatar7.png">笑口常开
                        </div>
                        <div class="msg-address">湖北</div>
                        <div class="msg-cont">"最近尝试了素食，发现不仅对健康有好处，还能减少碳足迹。
                            推荐大家也试试看！"</div>
                    </div>
                    <p>------------------------------------------------------------------------</p>
                    <div class="msg-item">
                        <div class="msg-title">
                            <img src="/img/avatar8.png">时光旅行家
                        </div>
                        <div class="msg-address">广西</div>
                        <div class="msg-cont">"我注意到我们家附近的河流污染很严重，
                            已经向环保部门反映了。希望他们能尽快采取行动。"</div>
                    </div>
                    <p>------------------------------------------------------------------------</p>
                    <div class="msg-item">
                        <div class="msg-title">
                            <img src="/img/avatar9.png">夏日缤纷
                        </div>
                        <div class="msg-address">湖南</div>
                        <div class="msg-cont">"支持可持续时尚，我最近开始购买二手衣物，既省钱又能减少浪费。"</div>
                    </div>
                    <p>------------------------------------------------------------------------</p>
                    <div class="msg-item">
                        <div class="msg-title">
                            <img src="/img/avatar0.png">张小涵
                        </div>
                        <div class="msg-address">广东</div>
                        <div class="msg-cont">"我正在尝试减少开车，改乘公共交通工具或骑自行车出行。
                            这样不仅能减少碳排放，还能锻炼身体。"</div>
                    </div>
                    <p>------------------------------------------------------------------------</p>
                    <div class="msg-item">
                        <div class="msg-title">
                            <img src="/img/avatar2.png">香菜主义者
                        </div>
                        <div class="msg-address">河北</div>
                        <div class="msg-cont">"看到网站上的节能灯泡推荐，
                            我已经更换了家里的灯泡。虽然初期投资多一点，但长远来看能省下不少电费。"</div>
                    </div>
                    <p>------------------------------------------------------------------------</p>
                    <div class="msg-item">
                        <div class="msg-title">
                            <img src="/img/avatar7.png">Willing
                        </div>
                        <div class="msg-address">广东</div>
                        <div class="msg-cont">"我参加了一个社区的环保活动，
                            大家一起清理街道上的垃圾。感觉非常有意义，希望更多人能参与进来。"</div>
                    </div>
                </div>
            </div>

            <form id="fromMessage">
                <h1><span class="green">留言板</h1>
                <div class="ipt-box">
                    <input type="text" id="ename" placeholder="您的名字" name='ename' required>
                    <i class='bx bxs-envelope bx-md'></i>
                </div>
                <div class="ipt-box">
                    <div class="ip2">
                        <input type="text" id="word" placeholder="您的留言" name="word" required>
                    </div>
                </div>
                <div class="tips">
                    <a class="link" href="">重新填写</a>
                </div>
                <button type="submit" class="btn bg-img">确认提交</button>
                <!-- 提示信息-->
                <div id="successMessage">恭喜您留言成功！</div>
            </form>
        </div>
    </div>
    <!--返回-->
    <div class="back_button"><a href="#top" class="iconfont icon-arrowTop"></a></div>
    <footer>
        <div class="footer"></div>
    </footer>

</body>
<script src="/js/message.js"></script>

<script>
    fetch('/html/public.html')
        .then(res => res.text())
        .then(res => {
            console.log(res);
            //将文本转化为DOM对象
            const parser = new DOMParser();
            const doc = parser.parseFromString(res, 'text/html')

            const styles = doc.querySelectorAll('style');
            styles.forEach(style => {
                // 插入到 <head>，并避免重复
                if (!document.querySelector(`style[data-source="public"]`)) {
                    const clonedStyle = style.cloneNode(true);
                    clonedStyle.setAttribute('data-source', 'public'); // 标记来源
                    document.head.appendChild(clonedStyle);//样式统一放在 <head> 中，确保全局生效
                }
            });

            const nav = doc.querySelector('.nav');
            const footer = doc.querySelector('.footer');

            if (nav) {
                const targetNav = document.querySelector('.nav');
                if (targetNav) {
                    targetNav.innerHTML = nav.innerHTML;
                } else {
                    console.error('加载失败', error);
                }
                //document.querySelector('.nav').innerHTML = nav.innerHTML;
            }
            if (footer) {
                const targetFooter = document.querySelector('.footer');
                if (targetFooter) {
                    targetFooter.innerHTML = footer.innerHTML;
                } else {
                    console.error('加载失败', error);
                }
            }
            //document.querySelector('.footer').innerHTML = res//拿到结果赋给页面
        })
        .catch(error => {
            console.error('加载失败', error);
        });
</script>

</html>
